=== RUN   TestFK_ShipmentLineCascade
--- PASS: TestFK_ShipmentLineCascade (0.06s)
=== RUN   TestHandleGetGitPLMConfig
=== RUN   TestHandleGetGitPLMConfig/no_config_set
=== RUN   TestHandleGetGitPLMConfig/config_exists
    handler_gitplm_test.go:95: Expected URL "https://gitplm.example.com", got ""
=== RUN   TestHandleGetGitPLMConfig/config_with_trailing_slash
    handler_gitplm_test.go:95: Expected URL "https://gitplm.example.com/", got ""
--- FAIL: TestHandleGetGitPLMConfig (0.00s)
    --- PASS: TestHandleGetGitPLMConfig/no_config_set (0.00s)
    --- FAIL: TestHandleGetGitPLMConfig/config_exists (0.00s)
    --- FAIL: TestHandleGetGitPLMConfig/config_with_trailing_slash (0.00s)
=== RUN   TestHandleUpdateGitPLMConfig
=== RUN   TestHandleUpdateGitPLMConfig/create_new_config
    handler_gitplm_test.go:172: Expected URL "https://gitplm.example.com", got ""
=== RUN   TestHandleUpdateGitPLMConfig/trim_trailing_slash
    handler_gitplm_test.go:172: Expected URL "https://gitplm.example.com", got ""
=== RUN   TestHandleUpdateGitPLMConfig/update_existing_config
    handler_gitplm_test.go:172: Expected URL "https://new.gitplm.example.com", got ""
=== RUN   TestHandleUpdateGitPLMConfig/empty_url
--- FAIL: TestHandleUpdateGitPLMConfig (0.00s)
    --- FAIL: TestHandleUpdateGitPLMConfig/create_new_config (0.00s)
    --- FAIL: TestHandleUpdateGitPLMConfig/trim_trailing_slash (0.00s)
    --- FAIL: TestHandleUpdateGitPLMConfig/update_existing_config (0.00s)
    --- PASS: TestHandleUpdateGitPLMConfig/empty_url (0.00s)
=== RUN   TestHandleUpdateGitPLMConfig_InvalidJSON
--- PASS: TestHandleUpdateGitPLMConfig_InvalidJSON (0.00s)
=== RUN   TestHandleGetGitPLMURL
=== RUN   TestHandleGetGitPLMURL/no_config_set
=== RUN   TestHandleGetGitPLMURL/config_set,_valid_IPN
    handler_gitplm_test.go:282: Expected URL "https://gitplm.example.com/parts/RES-0001", got ""
    handler_gitplm_test.go:286: Expected Configured true, got false
=== RUN   TestHandleGetGitPLMURL/config_set,_IPN_with_special_chars
    handler_gitplm_test.go:282: Expected URL "https://gitplm.example.com/parts/CAP-100/50V", got ""
    handler_gitplm_test.go:286: Expected Configured true, got false
=== RUN   TestHandleGetGitPLMURL/empty_base_URL_in_database
--- FAIL: TestHandleGetGitPLMURL (0.00s)
    --- PASS: TestHandleGetGitPLMURL/no_config_set (0.00s)
    --- FAIL: TestHandleGetGitPLMURL/config_set,_valid_IPN (0.00s)
    --- FAIL: TestHandleGetGitPLMURL/config_set,_IPN_with_special_chars (0.00s)
    --- PASS: TestHandleGetGitPLMURL/empty_base_URL_in_database (0.00s)
=== RUN   TestHandleUpdateGitPLMConfig_Concurrent
    handler_gitplm_test.go:315: Concurrent update 2 failed with status 500
    handler_gitplm_test.go:315: Concurrent update 1 failed with status 500
    handler_gitplm_test.go:315: Concurrent update 7 failed with status 500
    handler_gitplm_test.go:315: Concurrent update 6 failed with status 500
    handler_gitplm_test.go:315: Concurrent update 0 failed with status 500
    handler_gitplm_test.go:315: Concurrent update 8 failed with status 500
    handler_gitplm_test.go:315: Concurrent update 3 failed with status 500
    handler_gitplm_test.go:315: Concurrent update 9 failed with status 500
    handler_gitplm_test.go:330: Failed to read from database after concurrent updates: SQL logic error: no such table: app_settings (1)
    handler_gitplm_test.go:335: Database value should not be empty after concurrent updates
--- FAIL: TestHandleUpdateGitPLMConfig_Concurrent (0.00s)
=== RUN   TestHandleGetGitPLMURL_SQLInjection
--- FAIL: TestHandleGetGitPLMURL_SQLInjection (0.00s)
panic: invalid NewRequest arguments; malformed HTTP version "DROP TABLE app_settings; --/gitplm-url HTTP/1.0" [recovered]
	panic: invalid NewRequest arguments; malformed HTTP version "DROP TABLE app_settings; --/gitplm-url HTTP/1.0"

goroutine 97 [running]:
testing.tRunner.func1.2({0x1017963c0, 0x14000796310})
	/opt/homebrew/Cellar/go/1.24.5/libexec/src/testing/testing.go:1734 +0x1ac
testing.tRunner.func1()
	/opt/homebrew/Cellar/go/1.24.5/libexec/src/testing/testing.go:1737 +0x334
panic({0x1017963c0?, 0x14000796310?})
	/opt/homebrew/Cellar/go/1.24.5/libexec/src/runtime/panic.go:792 +0x124
net/http/httptest.NewRequestWithContext({0x1018a0aa8, 0x101f39060}, {0x101560492?, 0x1015912ca?}, {0x140006f4140, 0x34}, {0x0, 0x0})
	/opt/homebrew/Cellar/go/1.24.5/libexec/src/net/http/httptest/httptest.go:52 +0x5f8
net/http/httptest.NewRequest(...)
	/opt/homebrew/Cellar/go/1.24.5/libexec/src/net/http/httptest/httptest.go:20
zrp.TestHandleGetGitPLMURL_SQLInjection(0x14000583500)
	/Users/jsnapoli1/.openclaw/workspace/zrp/handler_gitplm_test.go:352 +0x130
testing.tRunner(0x14000583500, 0x10188f710)
	/opt/homebrew/Cellar/go/1.24.5/libexec/src/testing/testing.go:1792 +0xe4
created by testing.(*T).Run in goroutine 1
	/opt/homebrew/Cellar/go/1.24.5/libexec/src/testing/testing.go:1851 +0x374
exit status 2
FAIL	zrp	0.460s
